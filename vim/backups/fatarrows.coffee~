class Foo
  constructor: (@willthing)->
  fooFunc: ->
    # do some stuff
    _this = this
    getData url, (err, data)=>
      this = _this
      #doo some stuff
      console.log @willthing

  barFunc: do(this=@)->
    ..... lotsa stuff, some depending on this



fulfill
reject
then

f = new Foo 123

f.willthing = 123

f.foofunc
undefined



querty(barfunc)

foo = f.barfunc.bind(f)
foo = (x) -> f.barfunc(x)
foo()


for drop,i in puddle
  do(drop) ->
    y[i] = drop

do(f1=exp, f2=exp, f3=exp) ->
  f(f1, f2, f3)

f1=exp1
f2=exp2
f3=exp3
f(f1, f2, f3)



function(drop){
  //inner body of the loop  
}(drop)


console.log y
